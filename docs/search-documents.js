var searchDocuments = {"references/eClassifiers/Range/references/eOperations/contains-1/index.html":{"path":"Range/Operations/contains","link-uuid":"10d9a5a4-1cf7-42e9-8408-98a60b7b22c5","title":"contains","content":"Type EBoolean Multiplicity 0..1"},"references/eClassifiers/Range/references/eOperations/text-4/index.html":{"path":"Range/Operations/text","link-uuid":"656a1d36-b220-47cb-8de8-f9216ddf8baa","title":"text","content":"Type EString Multiplicity 0..1"},"references/eClassifiers/Position/inheritance.html":{"path":"Position/Inheritance","link-uuid":"3eb70d93-cdea-484c-b7e7-2aa174099c37","title":"Inheritance","content":"Supertypes "},"references/eClassifiers/Range/references/eOperations/contains-0/references/eParameters/range/index.html":{"path":"Range/Operations/contains/Parameters/range","link-uuid":"a94596e1-6df2-4e03-87bd-465bc926c4a2","title":"range","content":"Type Range Multiplicity 0..1"},"references/eClassifiers/GenerationMode/references/eLiterals/CONTENTS/index.html":{"path":"GenerationMode/CONTENTS","link-uuid":"bf0810fe-7145-467c-bfd9-9419b9a5bdf7","title":"CONTENTS","content":"Do not use own source, generate from contents"},"references/eClassifiers/Source/references/eStructuralFeatures/interpolate/index.html":{"path":"Source/Attributes/interpolate","link-uuid":"0b73d6ba-50fc-4331-a106-8a328facbe7e","title":"interpolate","content":"Type EBoolean Multiplicity 0..1"},"references/eClassifiers/Comparable/inheritance.html":{"path":"Comparable/Inheritance","link-uuid":"24b31651-6669-468c-97e6-28055bfc282d","title":"Inheritance","content":"Subtypes "},"references/eClassifiers/GenerationMode/references/eLiterals/NONE/index.html":{"path":"GenerationMode/NONE","link-uuid":"9b5c8838-9a91-492c-9856-0a3480c49951","title":"NONE","content":"Skip this source during generation"},"references/eClassifiers/Range/references/eOperations/contains-1/references/eParameters/position/index.html":{"path":"Range/Operations/contains/Parameters/position","link-uuid":"78624d2f-8ed2-4b22-bf04-8785a22842ab","title":"position","content":"Type Position Multiplicity 0..1"},"references/eClassifiers/Source/references/eStructuralFeatures/generationMode/index.html":{"path":"Source/Attributes/generationMode","link-uuid":"37c059de-276e-4969-a130-c0e935788e62","title":"generationMode","content":"Type GenerationMode Multiplicity 0..1"},"references/eClassifiers/Source/references/eStructuralFeatures/source/index.html":{"path":"Source/Attributes/source","link-uuid":"7b9cd423-e546-46ad-813c-c2dc5c936687","title":"source","content":"Type EString Multiplicity 0..1"},"references/eClassifiers/Range/references/eOperations/overlaps-2/index.html":{"path":"Range/Operations/overlaps","link-uuid":"d6862385-9c5e-4564-9ac6-cbdd89617f10","title":"overlaps","content":"Type EBoolean Multiplicity 0..1"},"references/eClassifiers/Range/references/eOperations/contains-0/index.html":{"path":"Range/Operations/contains","link-uuid":"f234597f-2020-4873-ab09-138a91baa843","title":"contains","content":"Type EBoolean Multiplicity 0..1"},"references/eClassifiers/Position/references/eStructuralFeatures/line/index.html":{"path":"Position/Attributes/line","link-uuid":"cd5d2ca4-adfb-4a28-997e-9da713934456","title":"line","content":"Type EInt Multiplicity 0..1"},"references/eClassifiers/NamedElement/inheritance.html":{"path":"NamedElement/Inheritance","link-uuid":"c5d8ed06-d2e3-4ac0-8bb5-46bb050dc225","title":"Inheritance","content":"Supertypes "},"references/eClassifiers/Range/references/eStructuralFeatures/begin/index.html":{"path":"Range/References/begin","link-uuid":"7bee3573-5b93-4233-8f8d-37d840cba226","title":"begin","content":"Type Position Multiplicity 0..1"},"index.html":{"link-uuid":"d1ee805b-4cb2-4c3d-beaf-1de33bb97908","title":"Source","content":"Nasdanika Java model can be used for analysis and code generation. It can be loaded from source files, class files and jar files. Model elements can reference coverage results. Model elements can be referenced from other models. For example, Maven project may reference a Java Module. File/resource top-level model elements, such as compilation units for *.java files and types for *.class files, are loaded as resources. It allows to use custom URI handlers to load resources from different sources. For example, GitLabURIHandler can be used to load sources from GitLab repositories using REST API, without cloning, and commit modifications to GitLab. Logical URI&rsquo;s, e.g. java://classes/org/nasdanika/common/Util may be used to reference model elements. Such logical URI&rsquo;s would be resolved to physical URI&rsquo;s, which may be different in different contexts - java sources or class files. Java model elements may be extended (subclassed) and subclasses can be loaded instead of the base classes. In the above example of a Maven project referencing a Java module, instead of a reference there might be a class, say MavenJar, extending both Maven project and Java module. Another example might be a JavaTextRepositoryFile extending both GitLab TextRepositoryFile and CompilationUnit. Yet another example, which might be combined with the above examples, is a class extending Maven project, Java module, and Architecture element This model is coarse-grained - it provides classes representing high-level &ldquo;externally referenceable&rdquo; constructs of the Java language. Low-level constructs such as statements and expressions are not modeled. Also, the model is somewhat loose on purpose to simplify code generation. For example, a source child can be added to any subclass of Source and source can be set to any text. The below diagram shows key model classes and their relationships. Some intermediate classes are omitted in the inheritance hierarchy. See the full diagram for additional details. Error loading resource java.drawio: java.lang.NullPointerException: ClassLoader resource not found: org/nasdanika/models/source/processors/ecore/java.drawio Maven dependency Maven Central Entry &lt;dependency&gt;\n    &lt;groupId&gt;org.nasdanika.models.java&lt;/groupId&gt;\n    &lt;artifactId&gt;model&lt;/artifactId&gt;\n    &lt;version&gt;latest version from Maven Central&lt;/version&gt;\n&lt;/dependency&gt;\n Javadoc Latest Loading From sources Individual sources ResourceSet resourceSet = new ResourceSetImpl();\nresourceSet.getResourceFactoryRegistry().getExtensionToFactoryMap().put(&quot;java&quot;, new JavaParserResourceFactory());\t\t\n\t\t\nString javaPackagePath = new File(&quot;src/main/java/org/nasdanika/models/java/JavaPackage.java&quot;).getCanonicalPath();\nResource javaPackageResource = resourceSet.getResource(URI.createFileURI(javaPackagePath), true);\n Directory public void loadSourceDirectory() throws IOException {\n\tResourceSet resourceSet = new ResourceSetImpl();\n\tresourceSet.getResourceFactoryRegistry().getExtensionToFactoryMap().put(&quot;java&quot;, new JavaParserResourceFactory());\t\t\n\n\t// For loading directory contents\n\tresourceSet.getResourceFactoryRegistry().getExtensionToFactoryMap().put(Resource.Factory.Registry.DEFAULT_EXTENSION, new XMIResourceFactoryImpl());\t\t\n\tURIHandler fileDirectoryURIHandler = new DirectoryContentFileURIHandler();\n\tresourceSet.getURIConverter().getURIHandlers().add(0, fileDirectoryURIHandler);\n\t\n\t\n\tString javaSourcesPath = new File(&quot;src/main/java&quot;).getCanonicalPath();\n\tResource javaSourcesResource = resourceSet.getResource(URI.createFileURI(javaSourcesPath), true);\n\tfor (EObject root: javaSourcesResource.getContents()) {\n\t\tvisit(root);\n\t}\t\t\n}\n\nprivate void visit(EObject eObject) {\n\tSystem.out.println(eObject);\n\tif (eObject instanceof TreeItem) {\n\t\tSystem.out.println(((TreeItem) eObject).getName());\n\t}\n\tif (eObject instanceof Tree) {\n\t\tfor (TreeItem treeItem: ((Tree) eObject).getTreeItems()) {\n\t\t\tURI itemURI = URI.createURI(treeItem.getName()).resolve(eObject.eResource().getURI().appendSegment(&quot;&quot;));\n\t\t\tResource itemResource = eObject.eResource().getResourceSet().getResource(itemURI, true);\n\t\t\tfor (EObject root: itemResource.getContents()) {\n\t\t\t\tvisit(root);\n\t\t\t}\t\t\n\t\t}\n\t}\t\t\n}\n\n With coverage File projectDir = new File(&quot;&lt;path to a Maven project directory&quot;);\nFile jacocoExec = new File(projectDir, &quot;target/jacoco.exec&quot;);\nResourceSet resourceSet = new ResourceSetImpl();\t\t\nresourceSet.getResourceFactoryRegistry().getExtensionToFactoryMap().put(Resource.Factory.Registry.DEFAULT_EXTENSION, new XMIResourceFactoryImpl());\nModuleCoverage moduleCoverage = ModuleCoverage.loadJacoco(&quot;&lt;module name&gt;&quot;, jacocoExec, new File(projectDir, &quot;target/classes&quot;));\n\t\t\nresourceSet\n\t.getResourceFactoryRegistry()\n\t.getExtensionToFactoryMap()\n\t.put(\n\t\t&quot;java&quot;, \n\t\tnew JavaParserResourceFactory(new ModuleCoverageProvider(moduleCoverage)));\t\t\n\n...\n From class files TODO From jar files TODO Generation Source Low-level example - TODO - test case Compilation Unit Use Cases Analysis and documentation/code generation Nasdanika Rules has a demo of inspecting Java sources and then generating test classes using OpenAI chat completions. Sources are retrieved from GitLab and generated test classes are committed to GitLab. The Java model combines both source and bytecode information, such as calls method makes, fields it accesses, or callers of a method. This information may be used to generate documentation and visualizations such as UML diagrams. It can also be used as part of GenAI prompts to generate documentation, recommendations, or test code. In the later case coverage information can be used to generate tests for classes and methods with low coverage. Some insights which might be provided by Java analysis: Module - removal of direct dependencies if there is a transient dependency. Say C depends on A and B, B has A as a transitive dependency. There is no need for C to have a direct dependency on A - it doesn&rsquo;t hurt, though. Circular dependencies between packages. Sometimes such dependencies are inevitable, so this &ldquo;rule&rdquo; shall be parameterizable. E.g. exclude child packages, or have an annotation to indicate that a circular dependency is by design, similar to SuppressWarning annotation. Code generation Nasdanika Function Flow leverages the Java model to generate code for Java source activities. GenAI is used to generate code from high level descriptions (specification) and contextual information."},"references/eClassifiers/Range/inheritance.html":{"path":"Range/Inheritance","link-uuid":"32153898-6acb-45a9-8b20-980a1a8ce46a","title":"Inheritance","content":"Supertypes Subtypes  "},"references/eClassifiers/GenerationMode/references/eLiterals/SOURCE/index.html":{"path":"GenerationMode/SOURCE","link-uuid":"afa662ab-45c6-4ea8-a8c9-f140b1b1e58d","title":"SOURCE","content":"Use only own source, ingnore contents"},"references/eClassifiers/Source/references/eOperations/generate-6/index.html":{"path":"Source/Operations/generate","link-uuid":"ccd24e35-6266-4bf2-9afa-29ff826485de","title":"generate","content":"Type EString Multiplicity 0..1 Generates source code"},"references/eClassifiers/Source/references/eStructuralFeatures/children/index.html":{"path":"Source/References/children","link-uuid":"f7b11f23-ab28-4f78-8404-2f5dc678c463","title":"children","content":"Type Source Multiplicity 0..*"},"references/eClassifiers/Range/references/eOperations/overlaps-2/references/eParameters/range/index.html":{"path":"Range/Operations/overlaps/Parameters/range","link-uuid":"b0398a76-4084-4a65-a472-1e8c950f9a6e","title":"range","content":"Type Range Multiplicity 0..1"},"references/eClassifiers/Range/references/eOperations/text-4/references/eParameters/source/index.html":{"path":"Range/Operations/text/Parameters/source","link-uuid":"6b25d0e5-d88b-45a1-a837-ebe90f7cda0e","title":"source","content":"Type Source Multiplicity 0..1"},"references/eClassifiers/Source/references/eStructuralFeatures/indent/index.html":{"path":"Source/Attributes/indent","link-uuid":"04d1aaa9-3cb4-4aa8-818b-fd20d7065cfd","title":"indent","content":"Type EString Multiplicity 0..1"},"references/eClassifiers/GenerationMode/index.html":{"link-uuid":"22f51d4b-19b3-4e6b-a37f-114859751703","title":"GenerationMode","content":"Defines how own source and contents are usd by the generate() method"},"references/eClassifiers/Range/references/eStructuralFeatures/end/index.html":{"path":"Range/References/end","link-uuid":"54ef9289-2531-4f98-9edb-8307b5dbe4aa","title":"end","content":"Type Position Multiplicity 0..1"},"references/eClassifiers/Position/references/eStructuralFeatures/exclusive/index.html":{"path":"Position/Attributes/exclusive","link-uuid":"bb1fa722-925f-45bb-962e-e717f51accfd","title":"exclusive","content":"Type EBoolean Multiplicity 0..1"},"references/eClassifiers/Range/references/eOperations/text-3/references/eParameters/source/index.html":{"path":"Range/Operations/text/Parameters/source","link-uuid":"653e30f2-7d52-4810-9a3d-38056e46b86b","title":"source","content":"Type EString Multiplicity 0..1"},"references/eClassifiers/Position/references/eStructuralFeatures/column/index.html":{"path":"Position/Attributes/column","link-uuid":"43da9f33-c751-45b8-9b82-85148118911c","title":"column","content":"Type EInt Multiplicity 0..1"},"references/eClassifiers/Source/references/eOperations/generate-6/references/eParameters/tokenSource/index.html":{"path":"Source/Operations/generate/Parameters/tokenSource","link-uuid":"dad4d490-5ff4-4c42-a204-f96597289210","title":"tokenSource","content":"Type TokenSource Multiplicity 0..1"},"references/eClassifiers/Source/inheritance.html":{"path":"Source/Inheritance","link-uuid":"36dba584-021e-48d4-93f8-d72511587a05","title":"Inheritance","content":"Supertypes Subtypes  "},"references/eClassifiers/NamedElement/references/eStructuralFeatures/name/index.html":{"path":"NamedElement/Attributes/name","link-uuid":"42845ad4-4cd0-41d1-b0a2-d1628db5758f","title":"name","content":"Type EString Multiplicity 1"},"references/eClassifiers/Range/references/eOperations/offset-5/references/eParameters/position/index.html":{"path":"Range/Operations/offset/Parameters/position","link-uuid":"3bae9c38-c9e2-41c3-a71a-f156270e471f","title":"position","content":"Type Position Multiplicity 0..1"},"references/eClassifiers/Range/references/eOperations/offset-5/index.html":{"path":"Range/Operations/offset","link-uuid":"57089316-29d3-4422-963b-91cc67b45f25","title":"offset","content":"Type Range Multiplicity 0..1"},"references/eClassifiers/GenerationMode/references/eLiterals/MERGE/index.html":{"path":"GenerationMode/MERGE","link-uuid":"dd5123e4-f97b-45e2-9107-0db6e552cc31","title":"MERGE","content":"Own source (original) is merged with new source generated from contents"},"references/eClassifiers/GenerationMode/references/eLiterals/CONCATENATE/index.html":{"path":"GenerationMode/CONCATENATE","link-uuid":"9068acd5-86d9-41e2-b763-cc59a57b2d8c","title":"CONCATENATE","content":"Concatenate own source with source generated by contents"},"references/eClassifiers/Range/references/eOperations/text-3/index.html":{"path":"Range/Operations/text","link-uuid":"aaa1d5f3-0259-4780-99a0-8c58dcf9f934","title":"text","content":"Type EString Multiplicity 0..1"},"references/eClassifiers/Source/references/eOperations/generate-6/references/eParameters/indent/index.html":{"path":"Source/Operations/generate/Parameters/indent","link-uuid":"def9bd36-210e-4bc2-9358-24a1d8273cd1","title":"indent","content":"Type EInt Multiplicity 0..1"}}